$.fn.serializeObject=function(){var t={},o=this.serializeArray();return $.each(o,function(){t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""}),t},function(){function t(){i.each(function(){$(this).change(o)})}function o(t){var o=$(t.target).siblings("input").first();"password"===o.attr("type")?o.attr("type","text"):o.attr("type","password")}var i=$(".show-password");t()}(),function(){function t(t,o){FB.getLoginStatus(function(i){"connected"===i.status?t():FB.login(function(i){"connected"===i.status?t():o(i)},{scope:"public_profile,email,user_photos"})})}CP.fbAuth={},void 0===window.__fbAppID&&alert("Missing Facebook Values. Contact support@codepen.io"),CP.fbAuth.init=function(){window.fbAsyncInit=function(){FB.init({appId:window.__fbAppID,cookie:!0,xfbml:!0,version:"v2.5"})},function(t,o,i){var n,e=t.getElementsByTagName(o)[0];t.getElementById(i)||(n=t.createElement(o),n.id=i,n.src="//connect.facebook.net/en_US/sdk.js",e.parentNode.insertBefore(n,e))}(document,"script","facebook-jssdk")},CP.fbAuth.init(),CP.fbAuth.checkAuthentication=t}(),function(){function t(t){t.preventDefault(),CP.fbAuth.checkAuthentication(i,o),e(null,$("#login-with-facebook"))}function o(t){"not_authorized"===t.status?s.show().html(window.__fbErrors.not_authorized):s.show().html(window.__fbErrors.not_logged_in)}function i(){AJAXUtil.get("/login/facebook/",{"login-type":$("#login-type").val()},n)}function n(t){document.location=t.redirect_url}function e(t,o){var i;i=o?o:$(this),ga&&ga("send","event",{eventCategory:"Login",eventAction:"Social Login Attempt",eventLabel:i.attr("data-network")})}var s=$("#login-social-auth-errors");$("#login-with-facebook").on("click",t),$("#login-with-twitter").on("click",e),$("#login-with-github").on("click",e)}(),function(){function t(t){t.preventDefault(),r.slideToggle()}function o(t){t.preventDefault(),""===a.val()?(l.show(),u.html("<p style='color: red;'>Gotta put an email in there, hoss.</p>")):(c.attr("disabled",!0),AJAXUtil.post(_httpsFullURL("/forgotpassword"),{email:a.val()},i,n))}function i(t){e(t.message)}function n(t){e(t.errors.message)}function e(t){c.attr("disabled",!1),u.html(t),l.show()}var s=$("#forgot-password-link"),r=$("#forgot-password-form"),a=$("#forgot-email"),c=$("#forgot-email-btn"),l=$("#sent-message"),u=$("#sent-message-message");s.on("click",t),r.on("submit",o),"#forgot-password"===document.location.hash&&this.toggleForgotPassword()}(),function(){function t(t){t.preventDefault(),parent.postMessage({type:"redirect-to-login"},"*")}var o=$("#login-with-github"),i=$("#login-with-twitter"),n=$("#login-type");"modal"===n.val()&&(o.on("click",t),i.on("click",t))}(),function(){function t(t){t.preventDefault(),i||(i=!0,AJAXUtil.post("/signup/github",{},o))}function o(t){window.location=t.redirect_to_url}var i=!1;window.__createAccountWithGitHub&&$.showModal("/ajax/login/create_account_with_github","modal-good"),$("body").on("click","#confirm-create-with-github",t)}();var LoginSettings={init:function(){_.extend(this,AJAXUtil),this._storeTimeOnPageStartTime(),this._bindToDOM()},_bindToDOM:function(){$("#login-login-form")._on("submit",this.doLogin,this),$("#login-with-github")._on("click",this.disableWithGitHubButton,this,!0)},doLogin:function(){$("#log-in-button").addClass("in-action"),this._storeTimeOnPageInCookie(),this.post("/login/login",$("#login-login-form").serializeObject(),this.doneLogin,this.showErrors)},doneLogin:function(t){document.location=t.redirect_to},disableWithGitHubButton:function(t,o){o.attr("disabled","disabled"),o.unbind()._on("click",_.noop),o.find("span").text("Logging in with GitHub...")},_storeTimeOnPageStartTime:function(){this.timeOnPageStartTime=(new Date).getTime()},_storeTimeOnPageInCookie:function(){$.cookie("time_on_page",this._calcTimeOnPage(),{expires:1,path:"/"})},_calcTimeOnPage:function(){return _getTimeInMilliseconds()-this.timeOnPageStartTime},showErrors:function(t){this.removeLoginSpinner(),this.clearErrors(),this.showRecaptcha(t),this.showErrorsOnPage(t),this.selectPasswordForEasyUpdate(t)},removeLoginSpinner:function(){$("#log-in-button").removeClass("in-action")},clearErrors:function(){$(".error-message").remove(),$(".error").removeClass("error"),$(".login-error-message").remove()},showRecaptcha:function(t){t.errors.recaptcha&&$(".recaptcha-field").removeClass("hide")},showErrorsOnPage:function(t){for(var o in t.errors){var i=t.errors[o][0],n="<div class='error-message'>"+i+"</div>";$("#login-"+o).append(n).addClass("error")}},selectPasswordForEasyUpdate:function(t){"password"in t.errors&&$("#login-password-field_").focus().select()}};LoginSettings.init();